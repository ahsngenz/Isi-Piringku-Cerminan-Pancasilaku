<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Isi Piringku, Cerminan Pancasilaku</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        /* Menambahkan efek scroll yang halus */
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            opacity: 0;
            animation: fadeIn 1s ease-out forwards;
        }
        .highlight-text {
            background-color: #FFFBEB; /* Lighter yellow */
            border-left: 4px solid #FBBF24; /* Amber 400 */
        }
        
        /* CSS untuk efek highlight */
        .sila-card {
            border: 3px solid transparent;
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.4s ease;
        }

        .sila-card:target {
            border-color: #F59E0B; /* Warna Amber-500 yang cerah */
            transform: scale(1.02); /* Sedikit memperbesar kartu */
            box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25); /* Bayangan yang lebih kuat */
        }
        
        /* REVISI: CSS Grid untuk tata letak piring yang proporsional */
        .plate-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 2fr; /* Baris atas 1/3, baris bawah 2/3 */
            grid-template-areas:
                "lauk buah"
                "pokok sayur";
            gap: 4px; /* Menambahkan jarak untuk outline */
        }
        .grid-buah { grid-area: buah; }
        .grid-lauk { grid-area: lauk; }
        .grid-pokok { grid-area: pokok; }
        .grid-sayur { grid-area: sayur; }

        /* REVISI: Menambahkan bayangan pada teks agar mudah dibaca */
        .text-with-shadow {
            text-shadow: 0px 2px 5px rgba(0, 0, 0, 0.8);
        }

        /* BARU: Animasi saat di-klik */
        @keyframes bounce-click {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }
        .clicked-animation {
            animation: bounce-click 0.4s ease-out;
        }

        /* REVISI: Efek highlight yang bertahan */
        .highlighted {
            position: relative;
            z-index: 10;
            box-shadow: 0 0 20px 8px rgba(251, 191, 36, 0.8); /* Amber-400 glow */
            transition: box-shadow 0.3s ease-in-out;
        }

        /* REVISI: CSS untuk penjelasan yang bisa disembunyikan/ditampilkan */
        .detail-penjelasan {
            transition: max-height 0.5s ease-in-out, opacity 0.3s ease-in-out, margin-top 0.5s ease-in-out;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            margin-top: 0;
        }
        .detail-penjelasan.expanded {
            max-height: 200px; 
            opacity: 1;
            margin-top: 1rem;
            overflow: visible;
        }

        /* REVISI: CSS untuk Tooltip (diaktifkan via JS) */
        .has-tooltip {
            position: relative;
            cursor: pointer; 
            border-bottom: 1px dotted #6b7280; 
        }
        .tooltip-text {
            visibility: hidden;
            opacity: 0;
            width: max-content;
            max-width: 200px;
            background-color: #1f2937;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px 12px;
            position: absolute;
            z-index: 20;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            transition: opacity 0.3s ease;
            pointer-events: none;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #1f2937 transparent transparent transparent;
        }
        .tooltip-visible {
            visibility: visible;
            opacity: 1;
        }

        /* BARU: CSS untuk Modal */
        .modal {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }

        /* BARU: Animasi Load */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes spinIn {
            from {
                transform: rotate(-180deg) scale(0.5);
                opacity: 0;
            }
            to {
                transform: rotate(0deg) scale(1);
                opacity: 1;
            }
        }
        .garuda-animation {
            animation: spinIn 1.2s cubic-bezier(0.25, 1, 0.5, 1) forwards;
            animation-delay: 0.5s; /* Muncul setelah halaman fade-in */
            opacity: 0; /* Mulai dari transparan */
        }
    </style>
</head>
<body class="bg-amber-50 text-gray-800">

    <div class="container mx-auto px-4 py-8 md:py-12">

        <!-- JUDUL UTAMA -->
        <header class="text-center mb-10 md:mb-16">
            <h1 class="text-4xl md:text-6xl font-black text-amber-800 tracking-tight leading-tight">
                Isi Piringku, Cerminan Pancasilaku
            </h1>
            <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">
                <span id="campaign-trigger" class="font-semibold text-amber-700 underline cursor-pointer hover:text-amber-600 transition-colors">Sebuah kampanye</span> untuk memahami nilai-nilai luhur Pancasila melalui panduan gizi seimbang dalam makanan kita sehari-hari.
            </p>
        </header>

        <!-- REVISI: AREA VISUAL UTAMA KEMBALI MENGGUNAKAN GRID IMG -->
        <div id="piring-container" class="relative max-w-lg mx-auto mb-12 rounded-full">
            <div class="plate-grid aspect-square w-full rounded-full overflow-hidden shadow-2xl ring-4 ring-white/50 bg-white">
                
                <!-- Sila 1 -> Buah -->
                <a href="#sila-1" id="piring-buah" class="grid-buah relative overflow-hidden group">
                    <img src="https://images.pexels.com/photos/5677921/pexels-photo-5677921.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Buah-buahan" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
                        <span class="relative top-4 text-white text-sm text-center font-bold text-with-shadow">Buah-buahan<br>2-3 porsi</span>
                    </div>
                </a>

                <!-- Sila 3 -> Lauk -->
                <a href="#sila-3" id="piring-lauk" class="grid-lauk relative overflow-hidden group">
                    <img src="https://images.pexels.com/photos/23858842/pexels-photo-23858842.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Lauk-pauk" class="w-full h-full object-cover">
                     <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
                        <span class="relative top-4 text-white text-sm text-center font-bold text-with-shadow">Lauk-Pauk<br>2-3 porsi</span>
                    </div>
                </a>

                <!-- Sila 5 -> Pokok -->
                <a href="#sila-5" id="piring-pokok" class="grid-pokok relative overflow-hidden group">
                    <img src="https://images.pexels.com/photos/4110250/pexels-photo-4110250.jpeg" alt="Makanan Pokok" class="w-full h-full object-cover">
                     <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
                        <span class="relative top-6 text-white text-sm text-center font-bold text-with-shadow">Makanan Pokok<br>3-4 porsi</span>
                    </div>
                </a>

                <!-- Sila 2 -> Sayur -->
                <a href="#sila-2" id="piring-sayur" class="grid-sayur relative overflow-hidden group">
                    <img src="https://images.pexels.com/photos/2955794/pexels-photo-2955794.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Sayur-mayur" class="w-full h-full object-cover">
                     <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
                        <span class="relative top-6 text-white text-sm text-center font-bold text-with-shadow">Sayur-mayur<br>3-4 porsi</span>
                    </div>
                </a>
            </div>
            
            <!-- REVISI: Lingkaran Garuda tidak lagi menutupi piring -->
            <div class="absolute inset-0 flex justify-center items-center pointer-events-none z-10">
                <a href="#semua-sila" id="garuda-link" class="w-2/5 h-2/5 pointer-events-auto group rounded-full garuda-animation">
                    <div class="w-full h-full bg-amber-50 rounded-full flex justify-center items-center shadow-lg ring-2 ring-white/50 overflow-hidden transition-transform duration-300 group-hover:scale-105">
                        <img src="https://www.kindpng.com/picc/m/96-962264_logo-pancasila-gold-gudang-logo-garuda-png-transparent.png" alt="Garuda Pancasila" class="w-4/5 h-4/5 object-contain relative top-2">
                    </div>
                </a>
            </div>
        </div>


        <!-- REVISI: KONTEN DIBERI ID AGAR BISA DI-LINK -->
        <main id="semua-sila" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            
            <!-- Sila 1: Ketuhanan Yang Maha Esa -->
            <div data-href="#piring-buah" class="sila-link block rounded-lg cursor-pointer">
                <div id="sila-1" class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 sila-card h-full">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Pancasila_Sila_1_Star.svg/1024px-Pancasila_Sila_1_Star.svg.png" alt="Lambang Sila ke-1: Bintang" class="h-10 w-10 mr-3 object-contain cursor-pointer sila-icon-trigger" data-sila-id="1">
                        <h2 class="text-xl font-bold text-amber-700">
                            <span class="has-tooltip">Sila ke-1: Syukuri
                                <span class="tooltip-text">Ketuhanan Yang Maha Esa</span>
                            </span>
                        </h2>
                    </div>
                    <p class="text-gray-600 detail-penjelasan">
                        <span class="has-tooltip">Terhubung ke kuadran <span class="font-semibold">Buah-buahan</span>.
                            <span class="tooltip-text">mensyukuri hasil bumi anugerah Tuhan</span>
                        </span> 
                        Bersyukur atas anugerah pangan yang melimpah dari Tuhan. Wujud syukur kita adalah dengan menghabiskan makanan, tidak membuangnya, dan menghargai setiap karunia-Nya.
                    </p>
                    <div class="p-4 rounded-md highlight-text cursor-pointer mt-4">
                        <p class="font-semibold text-amber-900">"Habiskan makananmu, jangan tersisa."</p>
                    </div>
                </div>
            </div>

            <!-- Sila 2: Kemanusiaan yang Adil dan Beradab -->
            <div data-href="#piring-sayur" class="sila-link block rounded-lg cursor-pointer">
                <div id="sila-2" class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 sila-card h-full">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Pancasila_Sila_2_Chain.svg/1024px-Pancasila_Sila_2_Chain.svg.png" alt="Lambang Sila ke-2: Rantai" class="h-10 w-10 mr-3 object-contain cursor-pointer sila-icon-trigger" data-sila-id="2">
                        <h2 class="text-xl font-bold text-amber-700">
                             <span class="has-tooltip">Sila ke-2: Peduli
                                <span class="tooltip-text">Kemanusiaan yang Adil dan Beradab</span>
                            </span>
                        </h2>
                    </div>
                    <p class="text-gray-600 detail-penjelasan">
                        <span class="has-tooltip">Terhubung ke kuadran <span class="font-semibold">Sayur-mayur</span>.
                            <span class="tooltip-text">mendukung petani lokal</span>
                        </span> 
                        Menghargai kerja keras para petani dan nelayan. Wujudkan rasa kemanusiaan dengan berbagi makanan dan mendukung produk pangan lokal.
                    </p>
                    <div class="p-4 rounded-md highlight-text cursor-pointer mt-4">
                        <p class="font-semibold text-amber-900">"Berbagi dengan yang lapar, hargai petani."</p>
                    </div>
                </div>
            </div>

            <!-- Sila 3: Persatuan Indonesia -->
            <div data-href="#piring-lauk" class="sila-link block rounded-lg cursor-pointer">
                <div id="sila-3" class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 sila-card h-full">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a8/Pancasila_Sila_3_Banyan_Tree.svg/1024px-Pancasila_Sila_3_Banyan_Tree.svg.png" alt="Lambang Sila ke-3: Pohon Beringin" class="h-10 w-10 mr-3 object-contain cursor-pointer sila-icon-trigger" data-sila-id="3">
                        <h2 class="text-xl font-bold text-amber-700">
                             <span class="has-tooltip">Sila ke-3: Cintai
                                <span class="tooltip-text">Persatuan Indonesia</span>
                            </span>
                        </h2>
                    </div>
                    <p class="text-gray-600 detail-penjelasan">
                        <span class="has-tooltip">Terhubung ke kuadran <span class="font-semibold">Lauk-Pauk</span>.
                             <span class="tooltip-text">lauk pauk kita beragam dari seluruh nusantara</span>
                        </span> 
                        Mencintai dan bangga mengonsumsi keanekaragaman pangan dari berbagai daerah. Setiap suapan makanan lokal adalah cara kita merayakan persatuan bangsa.
                    </p>
                    <div class="p-4 rounded-md highlight-text cursor-pointer mt-4">
                        <p class="font-semibold text-amber-900">"Nikmati ragam pangan lokal dari Sabang sampai Merauke."</p>
                    </div>
                </div>
            </div>

            <!-- Sila 4: Kerakyatan -->
            <div data-href="#piring-container" class="sila-link block rounded-lg cursor-pointer">
                <div id="sila-4" class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 sila-card h-full">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Pancasila_Sila_4_Buffalo%27s_Head.svg/1024px-Pancasila_Sila_4_Buffalo%27s_Head.svg.png" alt="Lambang Sila ke-4: Kepala Banteng" class="h-10 w-10 mr-3 object-contain cursor-pointer sila-icon-trigger" data-sila-id="4">
                        <h2 class="text-xl font-bold text-amber-700">
                            <span class="has-tooltip">Sila ke-4: Diskusi
                                <span class="tooltip-text">Kerakyatan yang Dipimpin oleh Hikmat Kebijaksanaan dalam Permusyawaratan/Perwakilan</span>
                            </span>
                        </h2>
                    </div>
                    <p class="text-gray-600 detail-penjelasan">
                        <span class="has-tooltip">Menunjuk pada <span class="font-semibold">keseluruhan piring</span>.
                            <span class="tooltip-text">menyimbolkan proses pemilihan</span>
                        </span> 
                        Mengambil keputusan bersama (musyawarah) dalam keluarga untuk menentukan menu makanan yang sehat dan seimbang. Pilihan bijak di meja makan adalah cerminan kebijaksanaan.
                    </p>
                    <div class="p-4 rounded-md highlight-text cursor-pointer mt-4">
                        <p class="font-semibold text-amber-900">"Tentukan menu sehat bersama keluarga."</p>
                    </div>
                </div>
            </div>

            <!-- Sila 5: Keadilan Sosial -->
            <div data-href="#piring-pokok" class="sila-link block rounded-lg cursor-pointer">
                <div id="sila-5" class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 sila-card h-full">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Pancasila_Sila_5_Rice_and_Cotton.svg/1024px-Pancasila_Sila_5_Rice_and_Cotton.svg.png" alt="Lambang Sila ke-5: Padi dan Kapas" class="h-10 w-10 mr-3 object-contain cursor-pointer sila-icon-trigger" data-sila-id="5">
                        <h2 class="text-xl font-bold text-amber-700">
                             <span class="has-tooltip">Sila ke-5: Adil
                                <span class="tooltip-text">Keadilan Sosial bagi Seluruh Rakyat Indonesia</span>
                            </span>
                        </h2>
                    </div>
                    <p class="text-gray-600 detail-penjelasan">
                        <span class="has-tooltip">Terhubung ke kuadran <span class="font-semibold">Makanan Pokok</span>.
                            <span class="tooltip-text">semua berhak atas sumber karbohidrat yang sehat</span>
                        </span> 
                        Memastikan semua orang memiliki hak dan akses yang sama terhadap pangan yang sehat dan bergizi seimbang. Gizi yang adil adalah fondasi keadilan.
                    </p>
                    <div class="p-4 rounded-md highlight-text cursor-pointer mt-4">
                        <p class="font-semibold text-amber-900">"Pastikan semua dapat gizi yang cukup dan seimbang."</p>
                    </div>
                </div>
            </div>
            
        </main>

        <!-- AREA BAWAH (FOOTER) -->
        <footer class="mt-16 md:mt-24 text-center border-t-2 border-amber-200 pt-8">
            <h3 class="text-2xl md:text-3xl font-bold text-amber-800 mb-8">
                Yuk, Wujudkan Nilai Pancasila Mulai dari Piring Kita!
            </h3>
            <div class="flex flex-col md:flex-row justify-between items-center gap-6 text-gray-500">
                 <!-- Logo Kemenkes -->
                <a href="https://ayosehat.kemkes.go.id/isi-piringku-kebutuhan-gizi-harian-seimbang" target="_blank" rel="noopener noreferrer" class="transition-transform duration-300 hover:scale-105">
                    <div class="flex items-center gap-2">
                        <img src="https://kemkes.go.id/app_asset/image_content/167420049363ca45ad438f30.09191866.png" alt="Logo Kementerian Kesehatan RI" class="h-12 object-contain">
                    </div>
                </a>
                
                <!-- Teks Sumber -->
                <p class="text-xs max-w-xs">
                    Sumber: <a href="https://ayosehat.kemkes.go.id/isi-piringku-kebutuhan-gizi-harian-seimbang" target="_blank" rel="noopener noreferrer" class="underline hover:text-amber-700 transition-colors">Pedoman Gizi Seimbang (Kemenkes RI)</a> & <a href="https://bpip.go.id/public/buku/" target="_blank" rel="noopener noreferrer" class="underline hover:text-amber-700 transition-colors">Materi Pembinaan Ideologi Pancasila (BPIP RI)</a>
                </p>

                <!-- Logo BPIP -->
                <a href="https://bpip.go.id/public/buku/" target="_blank" rel="noopener noreferrer" class="transition-transform duration-300 hover:scale-105">
                    <div class="flex items-center gap-2">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Lambang_Badan_Pembinaan_Ideologi_Pancasila_%282024%29.svg" alt="Logo BPIP RI" class="h-12 object-contain">
                    </div>
                </a>
            </div>
            <div class="mt-8 text-xs text-gray-400 space-y-1">
                <p>&copy; 2025 Group. V | All Rights Reserved</p>
                <p><span id="about-us-trigger" class="cursor-pointer underline hover:text-gray-600 transition-colors">Tentang Kami</span></p>
            </div>
        </footer>

    </div>

    <!-- Modal untuk penjelasan kampanye -->
    <div id="campaign-modal" class="modal fixed inset-0 bg-black bg-opacity-60 z-50 hidden items-center justify-center p-4 opacity-0">
        <div class="modal-content bg-white rounded-lg shadow-xl p-8 max-w-md w-full relative transform scale-95">
            <button id="campaign-modal-close" class="absolute top-3 right-4 text-gray-400 hover:text-gray-800 text-3xl font-bold">&times;</button>
            <h3 class="text-2xl font-bold text-amber-800 mb-4">Tujuan Kampanye</h3>
            <p class="text-gray-700">Tujuan kampanye ini adalah untuk menunjukkan bahwa memilih dan mengonsumsi makanan sehat bukan hanya baik untuk tubuh, tetapi juga merupakan wujud nyata dari pengamalan nilai-nilai luhur Pancasila dalam kehidupan sehari-hari.</p>
        </div>
    </div>
    
    <!-- Modal untuk penjelasan Sila -->
    <div id="sila-modal" class="modal fixed inset-0 bg-black bg-opacity-60 z-50 hidden items-center justify-center p-4 opacity-0">
        <div class="modal-content bg-white rounded-lg shadow-xl p-8 max-w-lg w-full relative transform scale-95">
            <button id="sila-modal-close" class="absolute top-3 right-4 text-gray-400 hover:text-gray-800 text-3xl font-bold">&times;</button>
            <h3 id="sila-modal-judul" class="text-xl font-bold text-amber-800 mb-6 text-center"></h3>
            <div class="flex">
                <img id="sila-modal-icon" src="" alt="Lambang Sila" class="h-16 w-16 mr-6 object-contain self-start">
                <div class="space-y-4">
                    <div>
                        <h4 class="font-bold text-gray-800">Makna:</h4>
                        <p id="sila-modal-makna" class="text-gray-700"></p>
                    </div>
                    <div>
                        <h4 class="font-bold text-gray-800">Aksi Nyata:</h4>
                        <p id="sila-modal-aksi" class="text-gray-700"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- BARU: Modal "Tentang Kami" -->
    <div id="about-us-modal" class="modal fixed inset-0 bg-black bg-opacity-60 z-50 hidden items-center justify-center p-4 opacity-0">
        <div class="modal-content bg-white rounded-lg shadow-xl p-8 max-w-lg w-full relative transform scale-95 text-left">
            <button id="about-us-modal-close" class="absolute top-3 right-4 text-gray-400 hover:text-gray-800 text-3xl font-bold">&times;</button>
            <p class="mb-4">Group. V – D3 Gizi XXVI merupakan kelompok yang dibuat untuk tugas mata kuliah Pancasila dengan beranggotakan 10 orang:</p>
            <ol class="list-decimal list-inside mb-4 pl-2 space-y-1">
                <li>AHSIN AQSATH</li>
                <li>ANGGREYNI THERESIA ANGELY</li>
                <li>HANNAE PATRICIA ADIEN TRIASILIA</li>
                <li>LIA ARDANI</li>
                <li>MELKA</li>
                <li>MESTA KRISTI INDRIANI</li>
                <li>NATASYA CLAUSTILA SAPUTRI</li>
                <li>NOFTALIA</li>
                <li>OLIVIA</li>
                <li>SANDRA NABILA</li>
            </ol>
            <p class="mb-6"><i>Campaign website</i> ini, ditujukan untuk menyelesaikan penugasan Project-Based: Kampanye “Menu Sehat & Nilai Pancasila" yang <i>output</i>-nya berupa poster/video kampanye.</p>
            <div class="text-right space-y-1">
                <p>Poltekkes Palangka Raya</p>
                <p>05 Oktober 2025</p>
                <p class="mt-4">Salam hangat, <a href="https://www.instagram.com/ahsn_gen.z/" target="_blank" rel="noopener noreferrer" class="font-bold text-amber-700 underline hover:text-amber-600 transition-colors">Kreator</a></p>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const foodLinks = document.querySelectorAll('.plate-grid a');
            const silaLinks = document.querySelectorAll('.sila-link');
            const garudaLink = document.querySelector('#garuda-link');
            const allSilaElements = document.querySelectorAll('.sila-link');
            const detailToggleTriggers = document.querySelectorAll('.highlight-text');
            const allDetails = document.querySelectorAll('.detail-penjelasan');
            const tooltipTriggers = document.querySelectorAll('.has-tooltip');
            let lastHighlightedElements = [];
            
            // Elemen Modal
            const campaignTrigger = document.getElementById('campaign-trigger');
            const campaignModal = document.getElementById('campaign-modal');
            const campaignModalContent = campaignModal.querySelector('.modal-content');
            const campaignModalClose = document.getElementById('campaign-modal-close');
            const silaIconTriggers = document.querySelectorAll('.sila-icon-trigger');
            const silaModal = document.getElementById('sila-modal');
            const silaModalContent = silaModal.querySelector('.modal-content');
            const silaModalClose = document.getElementById('sila-modal-close');
            const aboutUsTrigger = document.getElementById('about-us-trigger');
            const aboutUsModal = document.getElementById('about-us-modal');
            const aboutUsModalContent = aboutUsModal.querySelector('.modal-content');
            const aboutUsModalClose = document.getElementById('about-us-modal-close');
            
            // Data untuk Modal Sila
            const silaData = {
                '1': { makna: 'Bersyukur atas anugerah pangan yang diberikan oleh Tuhan.', aksi: 'Tidak membuang-buang makanan, menghargai setiap butir nasi, dan berdoa sebelum dan sesudah makan sebagai bentuk rasa syukur.', judul: 'Habiskan Makananmu, Syukuri Anugerah-Nya.' },
                '2': { makna: 'Peduli terhadap sesama, termasuk memastikan semua orang punya akses terhadap makanan yang layak. Menghargai kerja keras para petani dan nelayan.', aksi: 'Berbagi makanan dengan yang membutuhkan, tidak serakah saat mengambil makanan, dan mendukung produk petani lokal.', judul: 'Piring Sehatmu, Kemanusiaan Untuk Sesama. Dukung Petani Lokal!' },
                '3': { makna: 'Mencintai dan mengonsumsi keanekaragaman pangan lokal dari berbagai daerah di Indonesia. Makan bersama dapat mempererat persatuan.', aksi: 'Mengonsumsi makanan pokok yang beragam (tidak hanya nasi, tapi juga sagu, jagung, ubi), mencoba masakan dari berbagai suku, dan bangga dengan kuliner Nusantara.', judul: 'Satu Piring Beragam Rasa, Satukan Indonesia. Cintai Pangan Lokal!' },
                '4': { makna: 'Mengambil keputusan bersama (musyawarah) untuk kebaikan bersama, termasuk dalam menentukan menu makanan keluarga atau di sekolah.', aksi: 'Berdiskusi dengan keluarga untuk menentukan menu makan mingguan yang sehat, memilih menu katering sekolah secara bijaksana.', judul: 'Pilihan Sehat Keluarga, Keputusan Bijak Bersama.' },
                '5': { makna: 'Semua orang berhak mendapatkan akses terhadap pangan yang sehat dan bergizi seimbang.', aksi: 'Memastikan gizi seimbang untuk semua anggota keluarga, mendukung program pemerintah untuk ketahanan pangan, dan tidak menimbun makanan.', judul: 'Gizi Seimbang Untuk Semua, Wujudkan Keadilan Sosial.' }
            };

            // --- Functions ---
            function clearAllHighlights() { lastHighlightedElements.forEach(el => el.classList.remove('highlighted')); lastHighlightedElements = []; }
            function closeAllDetails() { allDetails.forEach(p => p.classList.remove('expanded')); }
            function closeAllTooltips() { document.querySelectorAll('.tooltip-text').forEach(tooltip => tooltip.classList.remove('tooltip-visible')); }

            function applyEffects(elements) {
                if (!Array.isArray(elements)) elements = [elements];
                elements.forEach(el => {
                    el.classList.add('clicked-animation');
                    el.addEventListener('animationend', () => el.classList.remove('clicked-animation'), { once: true });
                    el.classList.add('highlighted');
                    lastHighlightedElements.push(el);
                });
            }

            function handleInteraction(elementsToHighlight) {
                const isAlreadyActive = lastHighlightedElements.length > 0 && elementsToHighlight.every(el => lastHighlightedElements.includes(el));
                clearAllHighlights();
                if (isAlreadyActive) return;
                applyEffects(elementsToHighlight);
                if (elementsToHighlight.includes(garudaLink)) {
                    allDetails.forEach(detail => detail.classList.add('expanded'));
                }
            }
            
            function openModal(modal, content) {
                modal.classList.remove('hidden');
                setTimeout(() => { modal.classList.remove('opacity-0'); content.classList.remove('scale-95'); }, 10);
            }

            function closeModal(modal, content) {
                modal.classList.add('opacity-0');
                content.classList.add('scale-95');
                setTimeout(() => { modal.classList.add('hidden'); }, 300);
            }

            // --- Event Listeners ---
            foodLinks.forEach(link => { link.addEventListener('click', e => { e.stopPropagation(); closeAllTooltips(); handleInteraction([link]); }); });
            silaLinks.forEach(link => {
                link.addEventListener('click', e => {
                    if (window.getSelection().toString().length > 0 || e.target.closest('.highlight-text') || e.target.closest('.has-tooltip') || e.target.closest('.sila-icon-trigger')) return;
                    e.stopPropagation();
                    closeAllTooltips();
                    const target = document.querySelector(link.dataset.href);
                    if (target) {
                        handleInteraction([target]);
                        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                });
            });
            if (garudaLink) garudaLink.addEventListener('click', e => { e.stopPropagation(); closeAllTooltips(); handleInteraction([garudaLink, ...allSilaElements]); });
            detailToggleTriggers.forEach(trigger => {
                trigger.addEventListener('click', e => {
                    e.preventDefault(); e.stopPropagation(); closeAllTooltips();
                    const detail = trigger.closest('.sila-card').querySelector('.detail-penjelasan');
                    const isExpanded = detail.classList.contains('expanded');
                    closeAllDetails();
                    if (!isExpanded) detail.classList.add('expanded');
                });
            });
            tooltipTriggers.forEach(trigger => {
                trigger.addEventListener('click', e => {
                    e.preventDefault(); e.stopPropagation();
                    const tooltip = trigger.querySelector('.tooltip-text');
                    const isVisible = tooltip.classList.contains('tooltip-visible');
                    closeAllTooltips();
                    if (!isVisible) tooltip.classList.add('tooltip-visible');
                });
            });
            
            // Modal Listeners
            campaignTrigger?.addEventListener('click', e => { e.stopPropagation(); openModal(campaignModal, campaignModalContent); });
            campaignModalClose?.addEventListener('click', () => closeModal(campaignModal, campaignModalContent));
            campaignModal?.addEventListener('click', e => { if (e.target === campaignModal) closeModal(campaignModal, campaignModalContent); });
            
            silaIconTriggers.forEach(trigger => {
                trigger.addEventListener('click', e => {
                    e.preventDefault(); e.stopPropagation();
                    const data = silaData[trigger.dataset.silaId];
                    if (data) {
                        document.getElementById('sila-modal-icon').src = trigger.src;
                        document.getElementById('sila-modal-judul').textContent = data.judul;
                        document.getElementById('sila-modal-makna').textContent = data.makna;
                        document.getElementById('sila-modal-aksi').textContent = data.aksi;
                        openModal(silaModal, silaModalContent);
                    }
                });
            });
            silaModalClose?.addEventListener('click', () => closeModal(silaModal, silaModalContent));
            silaModal?.addEventListener('click', e => { if (e.target === silaModal) closeModal(silaModal, silaModalContent); });
            
            aboutUsTrigger?.addEventListener('click', e => { e.stopPropagation(); openModal(aboutUsModal, aboutUsModalContent); });
            aboutUsModalClose?.addEventListener('click', () => closeModal(aboutUsModal, aboutUsModalContent));
            aboutUsModal?.addEventListener('click', e => { if (e.target === aboutUsModal) closeModal(aboutUsModal, aboutUsModalContent); });

            document.body.addEventListener('click', () => {
                clearAllHighlights();
                closeAllDetails();
                closeAllTooltips();
            });
        });
    </script>
</body>
</html>

